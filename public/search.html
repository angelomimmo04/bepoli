<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Ricerca Utenti</title>
</head>
<body>
<h2>Cerca Utente</h2>
<input type="text" id="searchInput" placeholder="Cerca per username..." />
<button onclick="cercaUtente()">Cerca</button>

<div id="risultati"></div>

<script>
    async function cercaUtente() {
        const query = document.getElementById('searchInput').value;
        const response = await fetch(`/api/search-users?q=${encodeURIComponent(query)}`, {
            credentials: 'include'
        });
        const data = await response.json();

        const container = document.getElementById('risultati');
        container.innerHTML = '';

        data.forEach(user => {
            const div = document.createElement('div');
            div.innerHTML = `
          <img src="${user.profilePicUrl}" width="40" style="border-radius: 50%;" />
          <strong>${user.username}</strong> (${user.nome})
        `;
            container.appendChild(div);
        });
    }
</script>
</body>
</html>
